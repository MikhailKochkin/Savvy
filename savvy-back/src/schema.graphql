# import * from './generated/prisma.graphql'

type SuccessMessage {
    message: String
}

type Mutation {
    # in future you can make a custom object not to write this everytime
    createCoursePage(title: String!, description: String!, image: String, tags: [String] ): CoursePage!
    updateCoursePage(id: ID!, title: String, description: String, image: String): CoursePage
    createSandboxPage(title: String!, description: String!, image: String): SandboxPage!
    updateSandboxPage(id: ID!, title: String, description: String, image: String): SandboxPage
    deleteSandboxPage(id:ID!): SandboxPage
    createLesson(text: String!, video: String, coursePageID: ID!): Lesson!
    createTest(question: String!, answer1: String!, answer1Correct: String!, answer2: String!,
        answer2Correct: String!, answer3: String, answer3Correct: String, answer4: String,
        answer4Correct: String, coursePageID: ID!): Test!
    createProblem(text: String!, hints: String, solution: String, answer: String!,
        coursePageID: ID!): Test!
    createSandbox(text: String!, video: String, sandboxPageID: ID!): Sandbox!
    deleteSandbox(id:ID!): Sandbox
    createSandboxPageGoal(goal: String!, sandboxPageID: ID!): SandboxPageGoal!
    # updateLesson(id: ID!, title: String, description: String,  
    #     mainText: String, price: Int, issue: String, rule: String, 
    #     analysis: String, conclusion: String): Case!
    # deleteLesson(id:ID!): Case
    deleteCoursePage(id:ID!): CoursePage
    signup(email: String!, password: String!, name: String!): User!
    signin(email: String!, password: String!): User!
    signout: SuccessMessage
    updatePermissions(permissions: [Permission], userId: ID!) : User
    familiarize(id:ID!): User
    likePost(id:ID!, likes: Int): Sandbox
    addToFavourites(id: ID!, favourites: [ID]): User
}

type Query {
    coursePages(where: CoursePageWhereInput, orderBy: CoursePageOrderByInput, skip: Int, first: Int): [CoursePage]!
    coursePage(where: CoursePageWhereUniqueInput!): CoursePage
    sandboxPages(where: SandboxPageWhereInput, orderBy: SandboxPageOrderByInput, skip: Int, first: Int): [SandboxPage]!
    sandboxPageGoals(where: SandboxPageGoalWhereInput, orderBy: SandboxPageGoalOrderByInput, skip: Int, first: Int): [SandboxPageGoal]!
    sandboxPage(where: SandboxPageWhereUniqueInput!): SandboxPage
    sandboxes(where: SandboxWhereInput, orderBy: SandboxOrderByInput, skip: Int, first: Int): [Sandbox]!
    sandbox(where: SandboxWhereUniqueInput!): Sandbox
    lessons(where: LessonWhereInput, orderBy: LessonOrderByInput, skip: Int, first: Int): [Lesson]!
    lesson(where: LessonWhereUniqueInput!): Lesson
    # casesConnection(where: CaseWhereInput): CaseConnection!
    coursePagesConnection(where: CoursePageWhereInput): CoursePageConnection!
    tests(where: TestWhereInput, orderBy: TestOrderByInput, skip: Int, first: Int): [Test]!
    test(where: TestWhereUniqueInput!): Test
    problems(where: ProblemWhereInput, orderBy: ProblemOrderByInput, skip: Int, first: Int): [Problem]!
    problem(where: ProblemWhereUniqueInput!): Problem
    me: User
    users: [User]!
}

type User{
    id: ID!
    name: String!
    email: String!
    permissions: [Permission!]!
    isFamiliar: Boolean!
    favourites: [ID]
}