# Migration `20230401093915-`

This migration has been generated by MikhailKochkin at 4/1/2023, 1:39:15 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "Post" ADD COLUMN     "emailCampaignId" TEXT

ALTER TABLE "Post" ADD FOREIGN KEY("emailCampaignId")REFERENCES "EmailCampaign"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20230401092531-email-campaign..20230401093915-
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Application {
   id            String     @id @default(cuid())
@@ -554,11 +554,13 @@
   tags        String[]
   userId      String
   coursePageId String?
   lessonId    String?
+  emailCampaignId String?
   leadin      String?
   user        User         @relation(fields: [userId], references: [id])
-  coursePage CoursePage?   @relation(fields: [coursePageId], references: [id])
+  coursePage  CoursePage?   @relation(fields: [coursePageId], references: [id])
+  emailCampaign EmailCampaign?   @relation(fields: [emailCampaignId], references: [id])
 }
 model TeamQuest {
   id                String          @id @default(cuid())
@@ -935,8 +937,9 @@
   id              String          @id @default(cuid())
   content         String
   emails          Json?
   emailReminders  EmailReminder[]
+  posts           Post[]
   createdAt       DateTime        @default(now())
   updatedAt       DateTime        @updatedAt
 }
```


