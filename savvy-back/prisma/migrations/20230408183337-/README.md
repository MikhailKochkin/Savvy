# Migration `20230408183337-`

This migration has been generated by MikhailKochkin at 4/8/2023, 10:33:37 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "GrowthArea" DROP CONSTRAINT "GrowthArea_userLevelId_fkey"

ALTER TABLE "GrowthArea" DROP COLUMN "userLevelId"

CREATE TABLE "_GrowthAreaToUserLevel" (
    "A" TEXT NOT NULL,
    "B" TEXT NOT NULL
)

CREATE UNIQUE INDEX "_GrowthAreaToUserLevel_AB_unique" ON "_GrowthAreaToUserLevel"("A", "B")

CREATE INDEX "_GrowthAreaToUserLevel_B_index" ON "_GrowthAreaToUserLevel"("B")

ALTER TABLE "_GrowthAreaToUserLevel" ADD FOREIGN KEY("A")REFERENCES "GrowthArea"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "_GrowthAreaToUserLevel" ADD FOREIGN KEY("B")REFERENCES "UserLevel"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20230408151153-growth-area_update..20230408183337-
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Application {
   id            String     @id @default(cuid())
@@ -920,15 +920,14 @@
   isProgressPublic        Boolean? @default(false)
 }
 model GrowthArea {
-  id                String          @id @default(cuid())
-  name              String
-  maxProgress       Int?
-  marks             Json?          
-  userLevel         UserLevel    @relation(fields: [userLevelId], references: [id])
-  userLevelId       String
-    createdAt               DateTime @default(now())
+  id                      String          @id @default(cuid())
+  name                    String
+  maxProgress             Int?
+  marks                   Json?          
+  userLevels              UserLevel[]    
+  createdAt               DateTime @default(now())
   updatedAt               DateTime @updatedAt
 }
 model EmailReminder {
```


