# Migration `20210329122811-construction-update`

This migration has been generated by MikhailKochkin at 3/29/2021, 3:28:11 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "Sandbox" DROP CONSTRAINT "Sandbox_userId_fkey"

ALTER TABLE "Construction" ADD COLUMN     "text" TEXT,
ADD COLUMN     "hasText" BOOLEAN NOT NULL DEFAULT false

ALTER TABLE "Sandbox" DROP COLUMN "userId"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210312102051-business_client2..20210329122811-construction-update
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Application {
   id            String     @id @default(cuid())
@@ -94,8 +94,10 @@
 model Construction {
   id                  String               @id @default(cuid())
   name                String
+  text                String?
+  hasText             Boolean              @default(false)
   lessonID            String               @default(cuid())
   createdAt           DateTime             @default(now())
   updatedAt           DateTime             @updatedAt
   complexity          Int?                 @default(1)
@@ -632,9 +634,8 @@
   testResults                  TestResult[]
   textEditors                   TextEditor[]
   textEditorResults            TextEditorResult[]
   co_coursePages               CoursePage[]         @relation("AuthorsCoursePage")
-  sandbox                      Sandbox[]
   new_subjects                 CoursePage[]         @relation("UserSubjects")
 }
 model UserLevel {
```


